<!DOCTYPE html>
<html lang="ka">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <audio id="correctSound" src="./correct-choice-43861.mp3" preload="auto"></audio>
  <audio id="clockTimer" src="./clock-clock-sound-clock-clock-time-10343.mp3" preload="auto"></audio>
  <audio id="wrongSound" src="./wrong.mp3" preload="auto"></audio>
  <audio id="promoWin" src="./winStreak.mp3" preload="auto"></audio>


  <title>ქვიზი პრომო კოდით – შემთხვევითი კითხვებით</title>
  <style>
    body {
  font-family: 'Segoe UI', sans-serif;
  background-color:#002945;
  max-width: 750px;
  height: 100vh;
  margin: 0 auto;
  padding: 40px 20px;
  color: #333;
}
h1 {
  text-align: center;
  color: #ffd900;
  font-size: 24px;
}
#livesDisplay {
  text-align: center;
  font-weight: bold;
  margin: 20px 0;
  color: white;
}
.question, #introBox {
 
  flex-direction: column;
  background: white;
  border-radius: 10px;
  /* max-width: 750px; */
  padding: 20px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;
}
.question h3 {
  margin-bottom: 10px;
}
.timer {
  text-align: right;
  font-weight: bold;
  color: #0b3c5f;
  margin-top: -10px;
  margin-bottom: 30px;
}
label {
  display: block;
  margin: 8px 0;
}
button {
  margin-top: 10px;
  padding: 10px 20px;
  border: none;
  background-color: #0b3c5f;
  color: white;
  font-size: 16px;
  border-radius: 5px;
  cursor: pointer;
}
button:hover {
  background-color: #002945;
  color: #ffffff;
}
.reload {
  border: 1px solid #ffd900;
}
.wesebi {
  line-height: 25px;
  color: #0b3c5f;
}
#result, #promo, #gameover, #blocked {
  text-align: center;
  font-weight: bold;
  font-size: 18px;
  padding: 20px;
  border-radius: 10px;
  display: none;
}
#nextButton{
  display: none;
  background-color: white;
  color: #002945;
}
#nextButton:hover{
  background-color: #ffd900;
  color:#002945;
  transition: background-color 0.3s ease;

}
.infoNextSection{
  display: flex;
  justify-content: center;
  flex-direction: column;
  text-align: center;
}
#questionInfo{
  background: #d4f7dc; 
  color: #116611;
  border-radius: 20px;
  padding: 20px;
  font-weight: bold;
}
#promo { background: #d4f7dc; color: #116611; }
#gameover { background: #ffe3e3; color: #bb0000; }
#blocked { background: #fdd; color: #a00; }
#restart { text-align: center; margin-top: 20px; display: none; }

/* ✅ მობილურისთვის შესაბამისი სტილები */
@media screen and (max-width: 768px) {
  body {
    padding: 20px 10px;
    font-size: 16px;
  }
  h1 {
    font-size: 20px;
    line-height: 1.4;
  }
  .question, #introBox {
    padding: 15px;
  }
  .question h3 {
    font-size: 18px;
  }
  .timer {
    font-size: 14px;
    margin-bottom: 20px;
  }
  button {
    width: 100%;
    font-size: 16px;
  }
  img {
    max-width: 100%;
    height: auto;
  }
  .wesebi-da-logo {
    flex-direction: column;
    align-items: center;
    gap: 10px;
     display: flex;
    flex-direction: row;
    justify-content: space-between;
  }
  .wesebi-da-logo img {
    width: 60px;
    height: 60px;
   
  }
  ul {
    padding-left: 20px;
  }
}

  </style>
</head>
<body>
     
    
<h1 id="header-text"">მიიღეთ 5% იანი ფასდაკლების პრომო კოდი</h1>
<div id="introBox">
    <div class="wesebi-da-logo" style="display: flex; justify-content: space-between;">
        <h3 style="color:#0b3c5f;">წესები:</h3>
        <img style="width: 70px; height: 70px;" src="./logo-eng1.png" alt="">
    </div>
  
  
  <ul>
   <li class="wesebi"  >ქვიზი შედგება 10 კითხვისაგან</li>
    <li class="wesebi" >წარმატებით დამთავრების შემთხვევაში მიიღებთ პრომო კოდს.</li>
    <li class="wesebi" >პრომო კოდით მიიღებთ 5%-იან ფასდაკლებას ონლაინ შეკვეთაზე</li>
    <li class="wesebi" >პრომო კოდის გამოყენება შეგიძლიათ მხოლოდ ერთხელ</li>
    <li class="wesebi" >თქვენ გაქვთ მხოლოდ 3 სიცოცხლე.</li>
    <li class="wesebi" >არასწორი პასუხის შემთხვევაში სიცოცხლე გაკლდებათ.</li>
    <li class="wesebi" >თუ დაკარგავთ 3 სიცოცხლეს – ქვიზი სრულდება.</li>
    <li class="wesebi" >ქვიზის თამაში შეგიძლიათ 3 ჯერ ყოველ ერთ დღეში.</li>
    <li class="wesebi" >ქვიზი აქტიურია 01.06.2025</li>
  </ul>
  <!-- <button onclick="document.getElementById('winSound').play()">🔊 ტესტი</button> -->
  <div style="text-align:center;">
    <button  onclick="startQuiz()">დაწყება</button>
  </div>
</div>
<div id="livesDisplay" style="display:none;">სიცოცხლე: 💙💙💙</div>
<div id="quizContainer"></div>
 
<div id="promo">🎉 გილოცავთ!  თქვენი პრომო კოდია: <strong>QZ2024</strong></div>
<div class="infoNextSection">
<div id="questionInfo" style="display:none; "></div>
<button id="nextButton" onclick="goToNextQuestion()">შემდეგი კითხვა</button>
</div>


<div id="gameover">😢 სამივე სიცოცხლე დაკარგეთ. ქვიზი დასრულდა!</div>
<div id="blocked">🚫 თქვენ უკვე სცადეთ 3-ჯერ. გთხოვთ, სცადეთ მოგვიანებით.</div>
<div id="restart">
  <button class="reload" onclick="location.reload()">🔄 თავიდან სცადე</button>
</div>

<script>
    let shuffledQuestions = [];
  // let currentQuestion = 0;
  let lives = 3;
  let timer;
const MAX_ATTEMPTS = 3;
const playedKey = "quiz_attempt_count";

const playedTimeKey = "quiz_last_played";
let attempts = parseInt(localStorage.getItem(playedKey)) || 0;
let lastPlayed = parseInt(localStorage.getItem(playedTimeKey)) || 0;
let now = Date.now();

if (now - lastPlayed >  1 * 60 * 1000) {
  attempts = 0;
  localStorage.setItem(playedKey, 0);
  localStorage.setItem(playedTimeKey, now);
}

function startQuiz() {
  document.getElementById("introBox").style.display = "none";
  document.getElementById("header-text").style.display ="none"
  if (attempts >= MAX_ATTEMPTS) {
    document.getElementById("blocked").style.display = "block";
  } else {
    localStorage.setItem(playedKey, attempts + 1);
    localStorage.setItem(playedTimeKey, now);
    document.getElementById("livesDisplay").style.display = "block";
    initQuiz();
  }
}
 function goToNextQuestion() {
      currentQuestion++;
      if (currentQuestion >= shuffledQuestions.length) {
        document.getElementById("quizContainer").innerHTML = "";
        document.getElementById("promo").style.display = "block";
        document.getElementById("restart").style.display = "block";
        document.getElementById("nextButton").style.display = "none";
        document.getElementById("questionInfo").style.display = "none";
        document.getElementById('promoWin').play()

        // Confetti effect
        const duration = 4 * 1000;
        const animationEnd = Date.now() + duration;
        const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 1000 };

        const interval = setInterval(() => {
          const timeLeft = animationEnd - Date.now();

          if (timeLeft <= 0) {
            return clearInterval(interval);
          }

          const particleCount = 50 * (timeLeft / duration);
          confetti({
            ...defaults,
            particleCount,
            origin: { x: Math.random(), y: Math.random() - 0.2 }
          });
        }, 250);

      } else {
        showQuestion(currentQuestion);
      }
    }

function initQuiz() {
  const questionPool = [
    { text: "რომელი ფერი ქმნის სივრცის ვიზუალურ გაზრდის ეფექტს?",  options: ["მუქი ლურჯი", "შავი", "ღია ბეჟი", "ბორდოსფერი"], correct: 2, info: "💡 ღია ფერები — განსაკუთრებით თბილ ნეიტრალურ ტონებში — ოთახს უფრო ჰაეროვანს და ფართოს აჩვენებს." },
    { text: "რა არის გამოსახული სურათზე", image: "./228174_1.jpg ", options: ["ლამინატი", "პარკეტი", "შპალერი", "მოზაიკა"], correct: 0, info: "💡 ღია ფერები — განსაკუთრებით თბილ ნეიტრალურ ტონებში — ოთახს უფრო ჰაეროვანს და ფართოს აჩვენებს." },
    { text: "რომელი ზედაპირია საუკეთესო საღებავისთვის ბავშვების ოთახში?", options: ["მქრქალი საღებავი", "წყალში გახსნადი ეკოლოგიური საღებავი ", "ლაკი", "ზეთოვანი საღებავი"], correct: 1 , info: "💡 ეკოლოგიური საღებავი არ გამოყოფს ტოქსიკურ აირებს და მარტივად იწმინდება — განსაკუთრებით მნიშვნელოვანია ბავშვებისთვის."},
    { text: "აბაზანის დიზაინში რა ასპექტი ითვლება ფუნქციურად ყველაზე მნიშვნელოვანად?", options: ["შუშის კარები", "განათება", " წყლის მიმართ გამძლე მასალები ", "შავი დეტალები"], correct: 2 , info: "💡 მათთვის, ვისაც სურს გრძელვადიანი რემონტი, პირველ რიგში უნდა იზრუნოს მასალების ტენიანობისადმი გამძლეობაზე."},
    { text: "რამდენი წელია ჯაოკენი ოპერირებს ქართულ ბაზარზე?", options: ["10 წელი", "15 წელი", "27 წელი", "35 წელი"], correct: 2, info: "💡 ჯაოკენი დაარსდა 1997 წელს და 27 წელზე მეტია მომხმარებელს სთავაზობს სარემონტო გადაწყვეტილებებს." },

    { text: "რომელი პროდუქტი არ შედის ჯაოკენის ასორტიმენტში?", options: ["სანტექნიკა", "შპალერი", "აბაზანის ავეჯი", "ტელევიზორი"], correct: 3 , info: "💡 ჯაოკენი სპეციალიზირდება მხოლოდ სარემონტო მასალებზე, ინტერიერისთვის საჭირო პროდუქციაზე და არ ყიდის ტექნიკას."},

    { text: "რამდენ ფილიალს ფლობს ჯაოკენი საქართველოში?", options: ["3", "4", "5", "6"], correct: 2 , info:"ჯაოკენი წარმოდგენილია საქართველოს ხუთ ქალაქში: თბილისში, ქუთაისში, ბათუმში, სენაკში და თელავში"},

    { text: "რომელი პროდუქტი შედის ჯაოკენის სანტექნიკის კატეგორიაში?", options: ["ჭერის სანათი", "შხაპის სისტემა ", "მაცივარი", "კარის სახელური"], correct: 1, info: "💡 ჯაოკენში სანტექნიკის კატეგორია მოიცავს: შხაპის სისტემებს, ნიჟარებს, უნიტაზებს, ბიდეებს, აქსესუარებს და ა.შ." },

    { text: "რა ტიპის საღებავებია ხელმისაწვდომია ჯაოკენში?", options: ["მხოლოდ შიდა სამუშაოებისთვის", "მხოლოდ გარე სამუშაოებისთვის", "როგორც შიდა, ასევე გარე სამუშაოებისთვის ", "მხოლოდ ლაკი"], correct: 2 , info: "💡 ჯაოკენი გთავაზობთ მაღალი ხარისხის შიდა და გარე საღებავებს, რომლებიც გამოირჩევა გამძლეობით, ფერის სტაბილურობით და უსაფრთხო კომპონენტებით."},

    { text: "რომელ კატეგორიაში შეხვდებით კედლისა და იატაკის ფილებს?", options: ["შპალერის კატეგორიაში", "სანტექნიკის კატეგორიაში", "კერამიკული ფილების კატეგორიაში ", "ლაქ-საღებავების კატეგორიაში"], correct: 2 , info: " კერამიკული ფილები ჯაოკენში ერთ-ერთი მთავარი და მოთხოვნადი მიმართულებაა."},

    { text: "რომელი ტიპის ფილა არის შესაფერისი იატაკისთვის სველ ზონაში (აბაზანა, სამზარეულო)?", options: ["ხის ლამინატი", "PVC იატაკი", "წყალგაუმტარი კერამიკული ფილა ", "დეკორატიული შპალერი"], correct: 2 , info: "💡 ჯაოკენის ფილების ასორტიმენტში შეხვდებით ტენიანობის მიმართ გამძლე, უსწორმასწორო ზედაპირისთვის განკუთვნილ ფილებს."},

    { text: "რატომ არის მნიშვნელოვანი სარკის შერჩევა აბაზანის ავეჯთან ერთად?", options: ["თაროების რაოდენობის განსასაზღვრად", "დიზაინის ჰარმონიისთვის ", "კედლის ფერის შესაცვლელად", "განათების დასამონტაჟებლად"], correct: 1 , info: "💡 ჯაოკენში სარკის და ავეჯის ერთიანი ვიზუალური შერწყმა გეხმარება ინტერიერის სრულყოფილ დაპროექტებაში."},

    { text: "რომელი ტიპის ფილა ქმნის მინიმალისტურ ინტერიერს?", options: ["ფერადი მოზაიკური ფილა", "ბეტონის ეფექტის ფილა ", " ხის ტექსტურიანი ფილა", "მარმარილოს იმიტაციის ფილა"], correct: 1 , info: "💡 ბეტონის ეფექტის ფილა იდეალურია თანამედროვე და მინიმალისტური სივრცისთვის — ჯაოკენში მსგავსი სტილები ფართო არჩევანშია."},

    { text: "რისი შერჩევა შეგიძლია ჯაოკენის აბაზანის კატეგორიაში?", options: ["სარკე და აბაზანის კარადა ", "რბილი ტახტები", " კედლის საათები", "სამზარეულოს ტექნიკა"], correct: 0 , info: "💡 ჯაოკენში წარმოდგენილია აბაზანის სრული კომპლექტაცია: ავეჯი, სარკეები, აქსესუარები და ფუნქციური სისტემები."},

    { text: "რომელ სივრცეებში შეიძლება გამოიყენო ჯაოკენის ფილები?", options: ["მხოლოდ აბაზანაში", "მხოლოდ სამზარეულოში", " როგორც იატაკზე, ისე კედლებზე სხვადასხვა ოთახში ", "მხოლოდ აივანზე"], correct: 2 , info: "💡 ჯაოკენის ფილების კოლექცია მორგებულია როგორც ინტერიერის, ისე ექსტერიერის დიზაინზე — ღია ფერებით, ტექსტურითა და სხვადასხვა ფორმატით."},

    { text: "რა სახის პროდუქტებს შეხვდებით ჯაოკენის სანტექნიკის განყოფილებაში?", options: ["მხოლოდ ონკანებს", "შხაპის სისტემებს, უნიტაზებს, ნიჟარებს და აქსესუარებს ", " მხოლოდ ბიდეებს ", "წყლის გამათბობლებს"], correct: 1 , info: "💡 ჯაოკენის შპალერები გამოირჩევა თანამედროვე ტენდენციებით, ტექსტურითა და განსაკუთრებული ხარისხით — სრულად მორგებული ინტერიერის სტილს." },
  ];
     shuffledQuestions = questionPool.sort(() => 0.5 - Math.random()).slice(0, 10);
    currentQuestion = 0;
    lives = 3;

    updateLives();
    showQuestion(currentQuestion);
}


  function updateLives() {
    document.getElementById("livesDisplay").innerHTML = `სიცოცხლე: ${"💙".repeat(lives)}${"❌ ".repeat(3 - lives)}`;
  }

  function showQuestion(index) {
    questionInfo.style.display = "none";
    nextButton.style.display = "none";

    clearInterval(timer);
    const container = document.getElementById("quizContainer");
    container.innerHTML = "";

    if (index >= shuffledQuestions.length) {
     document.getElementById("promo").style.display = "block";
   


  // ✅ Confetti ეფექტი
  const duration = 4 * 1000;
  const animationEnd = Date.now() + duration;
  const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 1000 };

  const interval = setInterval(function () {
    const timeLeft = animationEnd - Date.now();

    if (timeLeft <= 0) {
      return clearInterval(interval);
    }

    const particleCount = 50 * (timeLeft / duration);
    confetti({
      ...defaults,
      particleCount,
      origin: { x: Math.random(), y: Math.random() - 0.2 }
    });
  }, 250);
      
      document.getElementById("restart").style.display = "block";
      return;
    }

    let timeLeft = 20;
    const q = shuffledQuestions[index];
    const qDiv = document.createElement("div");
    qDiv.className = "question";

   qDiv.innerHTML = `-
   <div class='count-question'> <span id='count'>${index + 1}/10</span>


  <div class='timer'>დრო: <span id='timer'>20</span>წმ</div>
  ${q.image ? `<img src='${q.image}' alt='სურათი' style='width:100%; max-height:200px; object-fit:cover; margin-bottom:10px;'>` : ''}
  <h3>${index + 1}. ${q.text}</h3>
` + q.options.map((opt, i) =>
  `<label><input type='radio' name='q${index}' value='${i}'> ${opt}</label>`
).join('') +
`<button onclick='submitAnswer(${index})'>შემდეგი</button>`;


    container.appendChild(qDiv);
 const clockAudio = document.getElementById("clockTimer");

  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").textContent = timeLeft;

    if (timeLeft === 10) {
      clockAudio.currentTime = 0;
      clockAudio.play();  
    }

    if (timeLeft <= 0) {
      clearInterval(timer);
      clockAudio.pause();
      clockAudio.currentTime = 0;

      lives--;
      updateLives();
      if (lives <= 0) {
        container.innerHTML = "";
        document.getElementById("gameover").style.display = "block";
        document.getElementById("restart").style.display = "block";
      } else {
        currentQuestion++;
        showQuestion(currentQuestion);
      }
    }
  }, 1000);
}
    

    function submitAnswer(index) {
    clearInterval(timer);
    const clockAudio = document.getElementById("clockTimer");
    const infoBox = document.getElementById("questionInfo");
    clockAudio.pause();
    clockAudio.currentTime = 0;

    const selected = document.querySelector(`input[name='q${index}']:checked`);
    if (!selected) {
      alert("აირჩიე პასუხი");
      return;
    }

    const isCorrect = parseInt(selected.value) === shuffledQuestions[index].correct;

    if (isCorrect) {
      confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
      document.getElementById("correctSound").play();
    } else {
      lives--;
        const wrongSound = document.getElementById('wrongSound');
        wrongSound.pause();
        wrongSound.currentTime = 0;
        wrongSound.play();

      updateLives();
      
      if (lives <= 0) {
        document.getElementById("quizContainer").innerHTML = "";
        document.getElementById("gameover").style.display = "block";
        document.getElementById("restart").style.display = "block";
      
        return;
      }
    }

    questionInfo.textContent = shuffledQuestions[index].info || "";
    questionInfo.style.display = "block";
    nextButton.style.display = "inline-block"; // აჩვენებს ღილაკს

    
  }
  

  updateLives();
  showQuestion(currentQuestion);

  window.submitAnswer = submitAnswer;
  window.showQuestion = showQuestion;
  window.goToNextQuestion = goToNextQuestion;


</script>
</body>
</html>
